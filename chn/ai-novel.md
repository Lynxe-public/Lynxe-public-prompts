# AI小说

## 功能说明

这是一个展示如何使用Function-Agent实现长篇内容创作的示例，演示了如何通过分而治之策略完成完整的小说创作流程。

你可以从这里了解如何创建多个专业化的函数工具，如何实现函数之间的组合调用，以及如何通过主入口函数协调整个创作流程。

## 使用流程

**版本要求**: 4.8.6（含）以上

**第1步** [打开Lynxe系统](https://github.com/spring-ai-alibaba/Lynxe)

**第2步** 导入数据
- 导入 [prompt-script/ai_novel_demo.json](../prompt-script/ai_novel_demo.json) 文件中的计划模板
- 系统会自动识别并加载所有函数Agent

**第3步** 理解函数结构
- **提纲编写器**: 根据主题和章节数要求，生成小说的大纲和章节结构
- **章节正文编写器**: 根据主题和章节名称，编写具体章节的正文内容
- **主入口-编写整个小说**: 协调整个创作流程，先编写提纲，然后逐个章节编写正文

**第4步** 执行主入口函数
- 运行"主入口-编写整个小说"函数
- 系统会自动执行以下流程：
  1. 调用"提纲编写器"生成文章大纲和章节结构
  2. 读取提纲内容
  3. 逐个调用"章节正文编写器"为每个章节编写正文
- 最终生成的小说内容保存在 `article.md` 文件中

**第5步** 查看生成结果
- 检查生成的 `article.md` 文件
- 验证章节结构和内容质量
- 确认每个章节都达到了字数要求（1000字）

## 预期结果

- 成功导入3个函数Agent：提纲编写器、章节正文编写器和主入口函数
- 系统能够根据主题自动生成完整的文章大纲和章节结构
- 通过分而治之的方式完成长篇内容创作
- 每个章节都达到指定的字数要求（1000字）
- 文章内容具有连贯性和逻辑性
- 最终生成的小说保存在 `article.md` 文件中

## 技术要点

- Function-Agent能力：智能函数组合和自动任务分解
- 函数组合和复用：支持将复杂创作任务分解为可复用的工具函数
- 分而治之策略：将复杂创作任务分解为可管理的章节单元
- 文件操作：使用file-operations_global_file_enhanced_grep、file-operations_global_file_write_file_operator、file-operations_global_file_read_file_operator工具进行文件读写操作
- 前情提要机制：通过Recap.md文件保持章节间的连贯性
- 字数控制：确保每个章节达到指定的字数要求
